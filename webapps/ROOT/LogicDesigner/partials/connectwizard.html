<div class="modal-header el-connwiz-modal-header" id="connectModalHeader">
	<img src="images/EspressoLogicLogoWhite.png" style="width: 190px; height: 53px;" />
	<strong>Connect Wizard</strong>
	<button ng-click="finishedWizard();">X</button>
</div>
<div class="modal-body" style="padding-left: 50px;">

<wizard on-finish="finishedWizard()" hide-indicators="true" name="Connect Wizard">

	<wz-step>
		<div ng-show="data.guidedTour">
			Welcome to Espresso. This is the Connect Wizard</em>. Its purpose is to guide you
			through the connection process.
			<br><br>We <strong>recommend</strong> you first connect to the sample
			Northwind database to explore the Espresso environment.
			<br><br>
			Since this is your first run, options are disabled below so
			we can illustrate and verify connectivity.
		</div>
		<div ng-hide="data.guidedTour">
			Select a database type or the pre-configured database.
		</div>
		<br>
		<h5>Example Database</h5>
		<!-- --
		<button ng-hide="true" class="btn btn-default btn-block" wz-next ng-disabled="data.guidedTour" ng-click="precreateDemoMySQL();">Demo (MySQL)</button>
		<button ng-hide="true" class="btn btn-default btn-block" wz-next ng-disabled="data.guidedTour" ng-click="precreateSampleMySQL();">Sample (MySQL)</button>
		<!-- -->
		<button class="btn btn-primary btn-block" id="ConnectToNorthwindButton" wz-next ng-click="precreateNorthwindSQLServer();">Northwind</button>
		<br/>
		<h5>My Database</h5>
		<button class="btn btn-default btn-block" wz-next ng-disabled="data.guidedTour" ng-click="createMySQL();">MySQL</button>
		<button class="btn btn-default btn-block" wz-next ng-disabled="data.guidedTour" ng-click="createSQLServer();">SQL Server</button>
		<button class="btn btn-default btn-block" wz-next ng-disabled="data.guidedTour" ng-click="createOracle();">Oracle</button>
		<button class="btn btn-default btn-block" wz-next ng-disabled="data.guidedTour" ng-click="createAzureSQL();">Azure SQL</button>
		<button class="btn btn-default btn-block" wz-next ng-disabled="data.guidedTour" ng-click="createPostgreSQL();">PostgreSQL</button>
		<button class="btn btn-default btn-block" wz-next ng-disabled="data.guidedTour" ng-click="createNuoDBSQL();">NuoDB</button>
		<button class="btn btn-default btn-block" wz-next ng-disabled="data.guidedTour" ng-click="createVerticaSQL();">HP Vertica Database</button>
		<button class="btn btn-default btn-block" wz-next ng-disabled="data.guidedTour" ng-click="createGenericJdbc();">Generic JDBC</button>
		<div class="checkbox" ng-show="data.guidedTour">
			<br>
			<label>
				<input id="guidedTourCheckbox" type="checkbox" ng-model="data.invertedGuidedTour" ng-click="toggleGuidedTour();" />
					Allow me to connect to My Database
			</label>
		</div>
	</wz-step>
	<wz-step title="Specify">
		<form name="specify" class="specify-db-form">
		<div ng-show="data.special !== strGeneric && data.dbtype === 'MySQL'">
			<h4>Connection Parameters:</h4>
			{{data.dbdescription}}<br><br>
			<div ng-show="data.special">This is a sample database, so the fields are not editable.<br><br></div>
			<table>
				<tr>
					<td align="right"><label for="mySqlHost">Host:&nbsp;</label></td>
					<td align="left" width="400px">
						<input class="form-control" ng-blur="checkReachability(data.host)" id="mySqlHost" type="text" autocomplete="off"
							ng-disabled="data.special" ng-model="$parent.data.host" ng-focus="hasBeenFocused.host = true">
					</td>
					<td class="connection-indicator-container">
						<i ng-show="params.isHostReachable === false" title="Your host url was unreachable, it may not allow http traffic or you may have included the protocol (ex: http)" class="fa tint-yellow font-plus-10 fa-exclamation-triangle"></i>
						<i ng-show="!$parent.params.isUrl" title="Please enter a valid URL" class="fa tint-yellow font-plus-20 fa-exclamation-triangle"></i>
						<i ng-show="params.isHostReachable === true" title="Your host has responded" class="fa tint-green font-plus-20 fa-check-circle"></i>
					</td>
				</tr>
				<tr>
					<td align="right"><label for="mySqlPort">Port:&nbsp;</label></td>
					<td align="left">
						<input class="form-control" id="mySqlPort" type="text" autocomplete="off" ng-blur="checkReachability(data.host, data.port)"
							ng-disabled="data.special" ng-model="$parent.data.port" ng-focus="hasBeenFocused.port = true">
					</td>
					<td class="connection-indicator-container">
						<i ng-show="params.isPortReachable === false" title="Your host:port url was unreachable, it may not allow http traffic or you may have included the protocol (ex: http)" class="fa tint-yellow font-plus-10 fa-exclamation-triangle"></i>
						<i ng-show="params.isPortReachable === true" title="Your host:port has responded" class="fa tint-green font-plus-20 fa-check-circle"></i>
					</td>
				</tr>
				<tr><td>&nbsp;</td></tr>
				<tr>
					<td align="right"><label for="mySqlUsername">Username:&nbsp;</label></td>
					<td align="left">
						<input class="form-control" id="mySqlUsername" type="text" autocomplete="off" ng-disabled="data.special"
							ng-model="$parent.data.username"  ng-focus="hasBeenFocused.username = true">
					</td>
					<td class="connection-indicator-container">
						<i ng-show="!params.isValidUsername" title="Please include a valid username" class="fa tint-yellow font-plus-10 fa-exclamation-triangle"></i>
						<i ng-show="params.isValidUsername" title="Your username looks valid" class="fa tint-green font-plus-20 fa-check-circle"></i>
					</td>
				</tr>
				<tr>
					<td align="right"><label for="mySqlPassword">Password:&nbsp;</label></td>
					<td align="left">
						<input class="form-control" id="mySqlPassword" type="text" autocomplete="off" ng-disabled="data.special"
							ng-model="$parent.data.password"  ng-focus="hasBeenFocused.password = true">
					</td>
					<td class="connection-indicator-container">
						<i ng-show="!params.isValidPassword" title="Please include a valid password" class="fa tint-yellow font-plus-10 fa-exclamation-triangle"></i>
						<i ng-show="params.isValidPassword" title="Your password looks valid" class="fa tint-green font-plus-20 fa-check-circle"></i>
					</td>
				</tr>
				<tr><td>&nbsp;</td></tr>
				<tr>
					<td align="right"><label for="mySqlDatabase">Database:&nbsp;</label></td>
					<td align="left">
						<input class="form-control" id="mySqlDatabase" type="text" autocomplete="off" ng-disabled="data.special"
							ng-blur="checkConnectivity(data);" ng-model="$parent.data.catalog" ng-focus="hasBeenFocused.catalog = true">
					</td>
					<td class="connection-indicator-container">
						<i ng-show="!params.isConnecting" title="Please include an existing database name" class="fa tint-yellow font-plus-10 fa-exclamation-triangle"></i>
						<i ng-show="params.isConnecting" title="You authenticated successfully" class="fa tint-green font-plus-20 fa-check-circle"></i>
					</td>
				</tr>
			</table>
		</div>
		<div ng-show="data.special !== strGeneric && data.dbtype === 'Oracle'">
			<h4>Connection Parameters:</h4>
			{{data.dbdescription}}<br><br>
			<div ng-show="data.special">This is a sample database, so the fields are not editable.<br><br></div>
			<table>
				<tr><td align="right"><label for="oracleHost">Host:&nbsp;</label></td><td align="left" width="400px"><input class="form-control" id="oracleHost" type="text" autocomplete="off" ng-model="data.host"></td></tr>
				<tr><td align="right"><label for="oraclePort">Port:&nbsp;</label></td><td align="left"><input class="form-control" id="oraclePort" type="text" autocomplete="off" ng-model="data.port"></td></tr>
				<tr><td align="right"><label for="oracleSID">SID:&nbsp;</label></td><td align="left"><input class="form-control" id="oracleSId" type="text" autocomplete="off" ng-model="data.sid"></td></tr>
				<tr><td>&nbsp;</td></tr>
				<tr><td align="right"><label for="oracleSchema">Schema:&nbsp;</label></td><td align="left"><input class="form-control" id="oracleSchema" type="text" autocomplete="off" ng-model="data.schema"></td></tr>
				<tr><td>&nbsp;</td></tr>
				<tr><td align="right"><label for="oracleUsername">Username:&nbsp;</label></td><td align="left"><input class="form-control" id="oracleUsername" type="text" autocomplete="off" ng-model="data.username"></td></tr>
				<tr><td align="right"><label for="oraclePassword">Password:&nbsp;</label></td><td align="left"><input class="form-control" id="oraclePassword" type="text" autocomplete="off" ng-model="data.password"></td></tr>
			</table>
		</div>
		<div ng-show="data.special !== strGeneric && data.dbtype === 'SQLServer'">
			<h4>Connection Parameters:</h4>
			{{data.dbdescription}}<br><br>
			<div ng-show="data.special">This is a sample database, so the fields are not editable.<br><br></div>
			<table>
				<tr>
					<td align="right"><label for="sqlserverHost">Host:&nbsp;</label></td>
					<td align="left" width="400px">
						<input class="form-control" class="form-control" id="sqlserverHost" type="text" autocomplete="off" ng-disabled="data.guidedTour || data.special" ng-model="data.host">
					</td>
					<td class="connection-indicator-container">
						<i ng-show="params.isReachable === false" class="fa tint-red font-plus-10 fa-exclamation-triangle"></i>
						<i ng-show="params.isUrl" class="fa tint-yellow font-plus-20 fa-check-circle"></i>
						<i ng-show="params.isReachable === true" class="fa tint-green font-plus-20 fa-check-circle"></i>
					</td>
				</tr>
				<tr><td align="right"><label for="sqlserverPort">Port:&nbsp;</label></td><td align="left"><input class="form-control" id="sqlserverPort" type="text" autocomplete="off" ng-disabled="data.guidedTour || data.special" ng-model="data.port"></td></tr>
				<tr><td>&nbsp;</td></tr>
				<tr><td align="right"><label for="sqlserverDatabase">Database:&nbsp;</label></td><td align="left"><input class="form-control" id="sqlserverDatabase" type="text" autocomplete="off" ng-disabled="data.guidedTour || data.special" ng-model="data.catalog"></td></tr>
				<tr><td align="right"><label for="sqlserverSchema">Schema/Owner:&nbsp;</label></td><td align="left"><input class="form-control" id="sqlserverSchema" type="text" autocomplete="off" ng-disabled="data.guidedTour || data.special" ng-model="data.schema"></td></tr>
				<tr><td>&nbsp;</td></tr>
				<tr><td align="right"><label for="sqlserverUsername">Username:&nbsp;</label></td><td align="left"><input class="form-control" id="sqlserverUsername" type="text" autocomplete="off" ng-disabled="data.guidedTour || data.special" ng-model="data.username"></td></tr>
				<tr><td align="right"><label for="sqlserverPassword">Password:&nbsp;</label></td><td align="left"><input class="form-control" id="sqlserverPassword" type="text" autocomplete="off" ng-disabled="data.guidedTour || data.special" ng-model="data.password"></td></tr>
			</table>
		</div>
		<div ng-show="data.special !== strGeneric && data.dbtype === 'AzureSQL'">
			<h4>Connection Parameters:</h4>
			{{data.dbdescription}}<br><br>
			<div ng-show="data.special">This is a sample database, so the fields are not editable.<br><br></div>
			<table>
				<tr><td align="right"><label for="azuresqlHost">Host:&nbsp;</label></td><td align="left" width="400px"><input class="form-control" id="azuresqlHost" type="text" autocomplete="off" ng-disabled="data.special" ng-model="data.host"></td></tr>
				<tr><td align="right"><label for="azuresqlPort">Port:&nbsp;</label></td><td align="left"><input class="form-control" id="azuresqlPort" type="text" autocomplete="off" ng-disabled="data.special" ng-model="data.port"></td></tr>
				<tr><td>&nbsp;</td></tr>
				<tr><td align="right"><label for="azuresqlDatabase">Database:&nbsp;</label></td><td align="left"><input class="form-control" id="azuresqlDatabase" type="text" autocomplete="off" ng-disabled="data.special" ng-model="data.catalog"></td></tr>
				<tr><td align="right"><label for="azuresqlSchema">Schema/Owner:&nbsp;</label></td><td align="left"><input class="form-control" id="azuresqlSchema" type="text" autocomplete="off" ng-disabled="data.special" ng-model="data.schema"></td></tr>
				<tr><td>&nbsp;</td></tr>
				<tr><td align="right"><label for="azuresqlUsername">Username:&nbsp;</label></td><td align="left"><input class="form-control" id="azuresqlUsername" type="text" autocomplete="off" ng-disabled="data.special" ng-model="data.username"></td></tr>
				<tr><td align="right"><label for="azuresqlPassword">Password:&nbsp;</label></td><td align="left"><input class="form-control" id="azuresqlPassword" type="text" autocomplete="off" ng-disabled="data.special" ng-model="data.password"></td></tr>
			</table>
		</div>
		<div ng-show="data.special !== strGeneric && data.dbtype === 'NuoDB (beta)'"> 
			<h4>Connection Parameters:</h4>
			{{data.dbdescription}}<br><br>
			<table>
				<tr><td align="right"><label for="nuodbHost">Host:&nbsp;</label></td><td align="left" width="400px"><input class="form-control" id="nuodbHost" type="text" autocomplete="off" ng-disabled="data.special" ng-model="data.host"></td></tr>
				<tr><td align="right"><label for="nuodbPort">Port:&nbsp;</label></td><td align="left"><input class="form-control" id="nuodbPort" type="text" autocomplete="off" ng-disabled="data.special" ng-model="data.port"></td></tr>
				<tr><td>&nbsp;</td></tr>
				<tr><td align="right"><label for="nuodbDatabase">Database:&nbsp;</label></td><td align="left"><input class="form-control" id="nuodbDatabase" type="text" autocomplete="off" ng-disabled="data.special" ng-model="data.catalog"></td></tr>
				<tr><td align="right"><label for="nuodbSchema">Schema:&nbsp;</label></td><td align="left"><input class="form-control" id="nuodbSchema" type="text" autocomplete="off" ng-disabled="data.special" ng-model="data.schema"></td></tr>
				<tr><td>&nbsp;</td></tr>
				<tr><td align="right"><label for="nuodbUsername">Username:&nbsp;</label></td><td align="left"><input class="form-control" id="nuodbUsername" type="text" autocomplete="off" ng-disabled="data.special" ng-model="data.username"></td></tr>
				<tr><td align="right"><label for="nuodbPassword">Password:&nbsp;</label></td><td align="left"><input class="form-control" id="nuodbPassword" type="text" autocomplete="off" ng-disabled="data.special" ng-model="data.password"></td></tr>
			</table>
		</div>
		<div ng-show="data.special !== strGeneric && data.dbtype === 'PostgreSQL'">
			<h4>Connection Parameters:</h4>
			{{data.dbdescription}}<br><br>
			<table>
				<tr><td align="right"><label for="pgHost">Host:&nbsp;</label></td><td align="left" width="400px"><input class="form-control" id="pgHost" type="text" autocomplete="off" ng-disabled="data.special" ng-model="data.host"></td></tr>
				<tr><td align="right"><label for="pgPort">Port:&nbsp;</label></td><td align="left"><input class="form-control" id="pgPort" type="text" autocomplete="off" ng-disabled="data.special" ng-model="data.port"></td></tr>
				<tr><td>&nbsp;</td></tr>
				<tr><td align="right"><label for="pgDatabase">Database:&nbsp;</label></td><td align="left"><input class="form-control" id="pgDatabase" type="text" autocomplete="off" ng-disabled="data.special" ng-model="data.catalog"></td></tr>
				<tr><td align="right"><label for="pgSchema">Schema:&nbsp;</label></td><td align="left"><input class="form-control" id="pgSchema" type="text" autocomplete="off" ng-disabled="data.special" ng-model="data.schema"></td></tr>
				<tr><td>&nbsp;</td></tr>
				<tr><td align="right"><label for="pgUsername">Username:&nbsp;</label></td><td align="left"><input class="form-control" id="pgUsername" type="text" autocomplete="off" ng-disabled="data.special" ng-model="data.username"></td></tr>
				<tr><td align="right"><label for="pgPassword">Password:&nbsp;</label></td><td align="left"><input class="form-control" id="pgPassword" type="text" autocomplete="off" ng-disabled="data.special" ng-model="data.password"></td></tr>
			</table>
		</div>
		<div ng-show="data.special !== strGeneric && data.dbtype === 'Vertica Database'">
			<h4>Connection Parameters:</h4>
			{{data.dbdescription}}<br><br>
			<table>
				<tr><td align="right"><label for="vHost">Host:&nbsp;</label></td><td align="left" width="400px"><input class="form-control" id="vHost" type="text" autocomplete="off" ng-disabled="data.special" ng-model="data.host"></td></tr>
				<tr><td align="right"><label for="vPort">Port:&nbsp;</label></td><td align="left"><input class="form-control" id="vPort" type="text" autocomplete="off" ng-disabled="data.special" ng-model="data.port"></td></tr>
				<tr><td>&nbsp;</td></tr>
				<tr><td align="right"><label for="vDatabase">Database:&nbsp;</label></td><td align="left"><input class="form-control" id="vDatabase" type="text" autocomplete="off" ng-disabled="data.special" ng-model="data.catalog"></td></tr>
				<tr><td align="right"><label for="vSchema">Schema:&nbsp;</label></td><td align="left"><input class="form-control" id="vSchema" type="text" autocomplete="off" ng-disabled="data.special" ng-model="data.schema"></td></tr>
				<tr><td>&nbsp;</td></tr>
				<tr><td align="right"><label for="vUsername">Username:&nbsp;</label></td><td align="left"><input class="form-control" id="vUsername" type="text" autocomplete="off" ng-disabled="data.special" ng-model="data.username"></td></tr>
				<tr><td align="right"><label for="vPassword">Password:&nbsp;</label></td><td align="left"><input class="form-control" id="vPassword" type="text" autocomplete="off" ng-disabled="data.special" ng-model="data.password"></td></tr>
			</table>
		</div>
		<div ng-show="data.special === strGeneric">
			<h4>Connection Parameters:</h4>
			<table>
				<tr>
					<td align="right"><label for="jdbcDbType">Driver:&nbsp;</label></td>
					<td>{{dropdownDbType}}
						<select id="jdbcDbType" class="form-control" ng-model="data.dropdownDbType"
							ng-options="d.name for d in dbaseTypes"
							ng-change="dbtypeSelected()">
							<option value="">-- Select a Database Driver --</option>
						</select>
					</td>
				</tr>
				<tr><td>&nbsp;</td></tr>
				<tr><td align="right"><label for="jdbcUsername">Username:&nbsp;</label></td><td align="left"><input class="form-control" id="jdbcUsername" type="text" autocomplete="off" ng-model="data.username"></td></tr>
				<tr><td align="right"><label for="jdbcPassword">Password:&nbsp;</label></td><td align="left"><input class="form-control" id="jdbcPassword" type="text" autocomplete="off" ng-model="data.password"></td></tr>
				<tr><td>&nbsp;</td></tr>
				<tr ng-show="data.jdbcCatalogTerm"><td align="right"><label for="jdbcCatalog">{{data.jdbcCatalogTerm}}:&nbsp;</label></td><td align="left"><input class="form-control" id="jdbcCatalog" type="text" autocomplete="off" ng-model="data.catalog"></td></tr>
				<tr ng-show="data.jdbcSchemaTerm"><td align="right"><label for="jdbcSchema">{{data.jdbcSchemaTerm}}:&nbsp;</label></td><td align="left"><input class="form-control" id="jdbcSchema" type="text" autocomplete="off" ng-model="data.schema"></td></tr>
				<tr><td>&nbsp;</td></tr>
				<tr><td align="right"><label for="jdbcUrl">JDBC URL:&nbsp;</label></td><td align="left"><textarea class="form-control" id="jdbcUrl" rows="8" cols="60" max-length="3000" autocomplete="off" ng-model="data.url"></textarea></td></tr>
			</table>
		</div>
		<br><br>
		<div class="el-connwiz-left-align">
			<input type="submit" value="Back" ng-disabled="buttonDisable.back" ng-click="backSelected();" />
		</div>
		<div class="el-connwiz-right-align">
			<input type="submit" value="Test Connection" ng-disabled="buttonDisable.test" ng-click="testOnly();" />
			<input type="submit" value="Continue" ng-disabled="buttonDisable.testContinue" ng-click="testAndProceed();" id="dbConnectContinue" />
		</div>
		<br><br>
		<ul class="connection-indicator-container">
			<li ng-show="hasBeenFocused.host && params.isHostReachable === false && data.host.length > 2">
				<p>The host {{data.host}}<span ng-show="!params.isPortReachable">:{{data.port}}</span> was not reachable, this may not be fatal.</p>
				<p>The host may misspelled, prefixed by "http://", or include unnecessary slashes</p> 
			</li>
			<li ng-show="hasBeenFocused.username && params.isValidUsername === false">Please enter a valid username</li>
			<li ng-show="hasBeenFocused.password && params.isValidPassword === false">Please enter a valid password</li>
			<li ng-show="hasBeenFocused.database && params.isConnecting === false">The database may not be reachable</li>
			<li ng-show="hasBeenFocused.catalog && params.isConnecting === false">The schema, catalog, or database may not be reachable</li>
			<li ng-show="params.isUnconnected === true">These parameters have not connected, your host may be behind a firewall or your credentials may have failed</li>
			
		</ul>
		<div align="center" ng-show="data.testInProgress">{{data.testInProgress}}</div>
		<div ng-show="data.latencyMilliseconds">
			<div align="center">Round-trip time to database: <span style="background-color: {{data.latencyColorCode}};"> {{data.latencyMilliseconds}}ms </span></div>
			<div align="center">{{data.latencySummary}}</div>
		</div>
		</form>
	</wz-step>
	<wz-step>
		Your database is now being connected to Espresso&mdash;this shouldn't take long.
		<br><br>
		A new project <strong>{{data.newProjectName}}</strong> has been created.
		<br><br>
		<strong>Status</strong>
		<div ng-show="data.doneButtonHideCount > 0">{{statusMessage}}</div>
		<div ng-hide="data.doneButtonHideCount > 0">
			<table align="center">
				<tr><td align="right">{{data.tableCount}}</td><td align="left">&nbsp;Tables</td></tr>
				<tr><td align="right">{{data.viewCount}}</td><td align="left">&nbsp;Views</td></tr>
				<tr><td align="right">{{data.procCount}}</td><td align="left">&nbsp;Procedures</td></tr>
				<tr><td align="right">{{data.fkeyCount}}</td><td align="left">&nbsp;Foreign Keys</td></tr>
				<tr><td align="right">{{data.columnCount}}</td><td align="left">&nbsp;Columns</td></tr>
				<tr><td align="right">{{data.latencyMilliseconds}}</td><td align="left">&nbsp;Latency (msec)</td></tr>
			</table>
			<input class="el-connwiz-right-align" type="submit" ng-disabled="buttonDisable.done" on-finish="alert('test'); $parent.controls.successfullyCompleteWizard();" wz-finish="controls.successfullyCompleteWizard();" id="connectWizardDoneButton" value="Done" />
			<br>
		</div>
	</wz-step>
</wizard>
</div>
